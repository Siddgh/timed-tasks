{"ast":null,"code":"var _jsxFileName = \"/Users/sidd/Documents/Assignments/BU/CS601/project/timedtasks/src/components/BarChartDaily.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport { Chart, registerables } from 'chart.js';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChart.register(...registerables);\nfunction BarChartDaily(_ref) {\n  _s();\n  let {\n    user,\n    task\n  } = _ref;\n  const [userElement, setUserElement] = useState(user);\n  const [taskElement, setTaskElement] = useState(task);\n  const [initialFetch, setInitialFetch] = useState(false);\n  const [graphData, setGraphData] = useState({});\n  const fetchDailyLogs = async () => {\n    setInitialFetch(true);\n    const res = await axios.get('http://localhost:4000/api/getDailyLogs', {\n      params: {\n        userId: userElement.uid,\n        taskId: taskElement.taskId\n      },\n      headers: {\n        Authorization: `Bearer ${user.accessToken}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    const labels = [];\n    const timeValues = [];\n    res.data.map(element => {\n      labels.push(element.date);\n      timeValues.push(element.time / 60 / 60);\n    });\n    const dataForGraph = {\n      labels: labels,\n      datasets: [{\n        label: task.taskTitle,\n        backgroundColor: \"#3f51b5\",\n        borderColor: \"3f51b5\",\n        data: timeValues\n      }]\n    };\n    setGraphData(dataForGraph);\n  };\n  useEffect(() => {\n    console.log(graphData);\n    if (initialFetch === false) {\n      fetchDailyLogs();\n    }\n  }, [graphData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: graphData.labels !== undefined ? /*#__PURE__*/_jsxDEV(Bar, {\n      className: \"TaskAnalyticsDailyBarGraphElement\",\n      data: graphData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 48\n    }, this) : null\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\n_s(BarChartDaily, \"s2LUQD1lbrB3Ks6EfjyHH7zgphE=\");\n_c = BarChartDaily;\nexport default BarChartDaily;\nvar _c;\n$RefreshReg$(_c, \"BarChartDaily\");","map":{"version":3,"names":["React","useEffect","useState","Bar","Chart","registerables","axios","register","BarChartDaily","user","task","userElement","setUserElement","taskElement","setTaskElement","initialFetch","setInitialFetch","graphData","setGraphData","fetchDailyLogs","res","get","params","userId","uid","taskId","headers","Authorization","accessToken","labels","timeValues","data","map","element","push","date","time","dataForGraph","datasets","label","taskTitle","backgroundColor","borderColor","console","log","undefined"],"sources":["/Users/sidd/Documents/Assignments/BU/CS601/project/timedtasks/src/components/BarChartDaily.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport {Bar} from 'react-chartjs-2';\nimport { Chart, registerables } from 'chart.js';\nimport axios from 'axios'\n\nChart.register(...registerables);\n\nfunction BarChartDaily({user, task}) {\n    \n    const [userElement, setUserElement] = useState(user)\n    const [taskElement, setTaskElement] = useState(task)\n    const [initialFetch, setInitialFetch] = useState(false)\n    const [graphData, setGraphData] = useState({})\n\n    const fetchDailyLogs = async () =>{\n        setInitialFetch(true)\n        const res = await axios.get('http://localhost:4000/api/getDailyLogs', {\n            params: { userId: userElement.uid, taskId: taskElement.taskId },\n            headers: {\n                Authorization: `Bearer ${user.accessToken}`,\n                'Content-Type': 'application/json',\n            },\n        })\n        const labels = []\n        const timeValues = []\n        \n        res.data.map((element)=>{\n            labels.push(element.date)\n            timeValues.push(((element.time / 60) / 60))\n        })\n        \n        const dataForGraph = {\n            labels: labels,\n            datasets: [\n            {\n                label: task.taskTitle,\n                backgroundColor: \"#3f51b5\",\n                borderColor: \"3f51b5\",\n                data: timeValues,\n            },\n            ],\n        }\n\n        setGraphData(dataForGraph)\n\n    }\n    \n    useEffect(()=>{\n        console.log(graphData)\n        if(initialFetch === false){\n            fetchDailyLogs()\n        }\n    },[graphData])\n\n    return (\n        <div>\n            {(graphData.labels !== undefined)? <Bar className=\"TaskAnalyticsDailyBarGraphElement\" data={graphData} /> : null}\n        </div>\n    )\n}\n\nexport default BarChartDaily"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAAQC,GAAG,QAAO,iBAAiB;AACnC,SAASC,KAAK,EAAEC,aAAa,QAAQ,UAAU;AAC/C,OAAOC,KAAK,MAAM,OAAO;AAAA;AAEzBF,KAAK,CAACG,QAAQ,CAAC,GAAGF,aAAa,CAAC;AAEhC,SAASG,aAAa,OAAe;EAAA;EAAA,IAAd;IAACC,IAAI;IAAEC;EAAI,CAAC;EAE/B,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAACO,IAAI,CAAC;EACpD,MAAM,CAACI,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAACQ,IAAI,CAAC;EACpD,MAAM,CAACK,YAAY,EAAEC,eAAe,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACe,SAAS,EAAEC,YAAY,CAAC,GAAGhB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAE9C,MAAMiB,cAAc,GAAG,YAAW;IAC9BH,eAAe,CAAC,IAAI,CAAC;IACrB,MAAMI,GAAG,GAAG,MAAMd,KAAK,CAACe,GAAG,CAAC,wCAAwC,EAAE;MAClEC,MAAM,EAAE;QAAEC,MAAM,EAAEZ,WAAW,CAACa,GAAG;QAAEC,MAAM,EAAEZ,WAAW,CAACY;MAAO,CAAC;MAC/DC,OAAO,EAAE;QACLC,aAAa,EAAG,UAASlB,IAAI,CAACmB,WAAY,EAAC;QAC3C,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IACF,MAAMC,MAAM,GAAG,EAAE;IACjB,MAAMC,UAAU,GAAG,EAAE;IAErBV,GAAG,CAACW,IAAI,CAACC,GAAG,CAAEC,OAAO,IAAG;MACpBJ,MAAM,CAACK,IAAI,CAACD,OAAO,CAACE,IAAI,CAAC;MACzBL,UAAU,CAACI,IAAI,CAAGD,OAAO,CAACG,IAAI,GAAG,EAAE,GAAI,EAAE,CAAE;IAC/C,CAAC,CAAC;IAEF,MAAMC,YAAY,GAAG;MACjBR,MAAM,EAAEA,MAAM;MACdS,QAAQ,EAAE,CACV;QACIC,KAAK,EAAE7B,IAAI,CAAC8B,SAAS;QACrBC,eAAe,EAAE,SAAS;QAC1BC,WAAW,EAAE,QAAQ;QACrBX,IAAI,EAAED;MACV,CAAC;IAEL,CAAC;IAEDZ,YAAY,CAACmB,YAAY,CAAC;EAE9B,CAAC;EAEDpC,SAAS,CAAC,MAAI;IACV0C,OAAO,CAACC,GAAG,CAAC3B,SAAS,CAAC;IACtB,IAAGF,YAAY,KAAK,KAAK,EAAC;MACtBI,cAAc,EAAE;IACpB;EACJ,CAAC,EAAC,CAACF,SAAS,CAAC,CAAC;EAEd,oBACI;IAAA,UACMA,SAAS,CAACY,MAAM,KAAKgB,SAAS,gBAAG,QAAC,GAAG;MAAC,SAAS,EAAC,mCAAmC;MAAC,IAAI,EAAE5B;IAAU;MAAA;MAAA;MAAA;IAAA,QAAG,GAAG;EAAI;IAAA;IAAA;IAAA;EAAA,QAC9G;AAEd;AAAC,GApDQT,aAAa;AAAA,KAAbA,aAAa;AAsDtB,eAAeA,aAAa;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}