{"ast":null,"code":"var _jsxFileName = \"/Users/sidd/Documents/Assignments/BU/CS601/project/timedtasks/src/components/ChartsDaily.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Bar, Line, Doughnut } from 'react-chartjs-2';\nimport { Chart, registerables } from 'chart.js';\nimport axios from 'axios';\nimport TaskLogs from './TaskLogs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nChart.register(...registerables);\nfunction ChartsDaily(_ref) {\n  _s();\n  let {\n    user,\n    task\n  } = _ref;\n  const [userElement, setUserElement] = useState(user);\n  const [taskElement, setTaskElement] = useState(task);\n  const [initialFetch, setInitialFetch] = useState(false);\n  const [graphData, setGraphData] = useState({});\n  const [logValues, setLogValues] = useState([]);\n  const fetchDailyLogs = async () => {\n    setInitialFetch(true);\n    const res = await axios.get('http://localhost:4000/api/getDailyLogs', {\n      params: {\n        userId: userElement.uid,\n        taskId: taskElement.taskId\n      },\n      headers: {\n        Authorization: `Bearer ${user.accessToken}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    const labels = [];\n    const timeValues = [];\n    console.log('Values Loaded');\n    setLogValues(res.data);\n    res.data.map(element => {\n      labels.push(element.date);\n      timeValues.push(element.time / 60 / 60);\n    });\n    const colors = ['#3fb5a3', '#3f51b5'];\n    const dataForGraph = {\n      labels: labels,\n      datasets: [{\n        fill: true,\n        label: task.taskTitle,\n        backgroundColor: colors,\n        borderColor: colors,\n        data: timeValues\n      }]\n    };\n    setGraphData(dataForGraph);\n  };\n  const displayDailyLogs = () => {\n    console.log('display runs');\n    if (logValues.time !== undefined) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"TaskLogsContainerContent\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"TaskLogsDateHeading\",\n          children: \"2022/11/10 -\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"TaskLogsDateValue\",\n          children: `${logValues.time} hr`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"TaskLogsContainerContent\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"TaskLogsDateHeading\",\n          children: \"Nothing to Display\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"TaskLogsDateValue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this);\n    }\n  };\n  useEffect(() => {\n    if (initialFetch === false) {\n      fetchDailyLogs();\n    }\n  }, [graphData, logValues]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"BarGraphContainer\",\n      children: graphData.labels !== undefined ? /*#__PURE__*/_jsxDEV(Bar, {\n        options: {\n          maintainAspectRatio: false\n        },\n        className: \"TaskAnalyticsDailyBarGraphElement\",\n        data: graphData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 52\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"BarGraphContainer\",\n      children: graphData.labels !== undefined ? /*#__PURE__*/_jsxDEV(Line, {\n        options: {\n          maintainAspectRatio: false\n        },\n        className: \"TaskAnalyticsDailyBarGraphElement\",\n        data: graphData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 52\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"TaskLogsContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"TaskLogsContainerHeading\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Task Logs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 59\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), displayDailyLogs()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"BarGraphContainer\",\n      children: graphData.labels !== undefined ? /*#__PURE__*/_jsxDEV(Doughnut, {\n        options: {\n          maintainAspectRatio: false\n        },\n        className: \"TaskAnalyticsDailyBarGraphElement\",\n        data: graphData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 52\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(ChartsDaily, \"bsh3GkTzgOGbrvGb4jr5fbZjMMM=\");\n_c = ChartsDaily;\nexport default ChartsDaily;\nvar _c;\n$RefreshReg$(_c, \"ChartsDaily\");","map":{"version":3,"names":["React","useEffect","useState","Bar","Line","Doughnut","Chart","registerables","axios","TaskLogs","register","ChartsDaily","user","task","userElement","setUserElement","taskElement","setTaskElement","initialFetch","setInitialFetch","graphData","setGraphData","logValues","setLogValues","fetchDailyLogs","res","get","params","userId","uid","taskId","headers","Authorization","accessToken","labels","timeValues","console","log","data","map","element","push","date","time","colors","dataForGraph","datasets","fill","label","taskTitle","backgroundColor","borderColor","displayDailyLogs","undefined","maintainAspectRatio"],"sources":["/Users/sidd/Documents/Assignments/BU/CS601/project/timedtasks/src/components/ChartsDaily.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport {Bar, Line, Doughnut} from 'react-chartjs-2';\nimport { Chart, registerables } from 'chart.js';\nimport axios from 'axios'\nimport TaskLogs from './TaskLogs';\n\nChart.register(...registerables);\n\nfunction ChartsDaily({user, task}) {\n    \n    const [userElement, setUserElement] = useState(user)\n    const [taskElement, setTaskElement] = useState(task)\n    const [initialFetch, setInitialFetch] = useState(false)\n    const [graphData, setGraphData] = useState({})\n    const [logValues, setLogValues] = useState([])\n\n    const fetchDailyLogs = async () =>{\n        setInitialFetch(true)\n        const res = await axios.get('http://localhost:4000/api/getDailyLogs', {\n            params: { userId: userElement.uid, taskId: taskElement.taskId },\n            headers: {\n                Authorization: `Bearer ${user.accessToken}`,\n                'Content-Type': 'application/json',\n            },\n        })\n        const labels = []\n        const timeValues = []\n        \n        console.log('Values Loaded')\n        setLogValues(res.data)\n        \n        res.data.map((element)=>{\n            labels.push(element.date)\n            timeValues.push(((element.time / 60) / 60))\n        })\n        \n        const colors=['#3fb5a3', '#3f51b5']\n        const dataForGraph = {\n            labels: labels,\n            datasets: [\n            {\n                fill: true,\n                label: task.taskTitle,\n                backgroundColor: colors,\n                borderColor: colors,\n                data: timeValues,\n            },\n            ],\n        }\n\n        setGraphData(dataForGraph)\n\n    }\n    \n\n    const displayDailyLogs = () =>{\n        console.log('display runs')\n        if(logValues.time !== undefined){\n            return(\n                <div className='TaskLogsContainerContent'>\n                    <span className='TaskLogsDateHeading'>2022/11/10 -</span>\n                    <span className='TaskLogsDateValue'>{`${logValues.time} hr`}</span>\n                </div>\n            )\n        }else{\n            return(\n                <div className='TaskLogsContainerContent'>\n                    <span className='TaskLogsDateHeading'>Nothing to Display</span>\n                    <span className='TaskLogsDateValue'></span>\n                </div>\n            )\n        }\n        \n    }\n\n    useEffect(()=>{\n        if(initialFetch === false){\n            fetchDailyLogs()\n        }\n    },[graphData, logValues])\n\n    return (\n        <>\n            <div className='BarGraphContainer'>\n                {(graphData.labels !== undefined)? <Bar options={{ maintainAspectRatio: false }} className=\"TaskAnalyticsDailyBarGraphElement\" data={graphData} /> : null}\n            </div>\n            <div className='BarGraphContainer'>\n                {(graphData.labels !== undefined)? <Line options={{ maintainAspectRatio: false }} className=\"TaskAnalyticsDailyBarGraphElement\" data={graphData} /> : null}\n            </div>\n            <div className='TaskLogsContainer'>\n                <div className='TaskLogsContainerHeading'><p>Task Logs</p></div>\n                {displayDailyLogs()}\n            </div>\n            <div className='BarGraphContainer'>\n                {(graphData.labels !== undefined)? <Doughnut options={{ maintainAspectRatio: false }} className=\"TaskAnalyticsDailyBarGraphElement\" data={graphData} /> : null}\n            </div>\n        </>\n    )\n}\n\nexport default ChartsDaily"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}